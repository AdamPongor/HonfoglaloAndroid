package bme.aut.sza.honfoglalo.ui.map

import android.os.Debug
import android.util.Log
import androidx.compose.foundation.Canvas
import androidx.compose.foundation.clickable
import androidx.compose.foundation.gestures.detectTapGestures
import androidx.compose.foundation.interaction.MutableInteractionSource
import androidx.compose.foundation.layout.Box
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.fillMaxWidth
import androidx.compose.foundation.shape.GenericShape
import androidx.compose.material3.Button
import androidx.compose.material3.ButtonDefaults
import androidx.compose.material3.Icon
import androidx.compose.material3.minimumInteractiveComponentSize
import androidx.compose.runtime.Composable
import androidx.compose.runtime.remember
import androidx.compose.ui.Modifier
import androidx.compose.ui.draw.clip
import androidx.compose.ui.geometry.Size
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.input.pointer.pointerInput
import androidx.compose.ui.res.painterResource
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp
import bme.aut.sza.honfoglalo.R
import bme.aut.sza.honfoglalo.data.Region
import bme.aut.sza.honfoglalo.util.ShapePath
import bme.aut.sza.honfoglalo.util.toPath
import kotlin.random.Random

@Composable
fun HungaryMap(){
    val stringPath = "M 526.4043,164.59766 L 527.20703,170.13892 L 529.40234,175.69727 L 531.28125,179.0127 L 532.48926,179.45118 L 533.65235,180.82911 L 535.39698,181.1421 L 535.76661,181.46681 L 537.1172,182.59327 L 536.4463,184.53516 L 533.67335,187.47754 L 533.22657,187.47754 L 533.09229,187.97803 L 531.57129,189.48096 L 530.63281,190.98389 L 528.66455,193.42578 L 527.81445,195.36621 L 527.63574,196.49414 L 531.2583,199.875 L 531.70557,200.00098 L 532.64551,200.93994 L 535.4624,202.94336 L 537.92236,205.19629 L 542.66357,208.82813 L 545.57031,210.51856 L 548.47754,212.58594 L 548.92481,212.52246 L 550.71387,214.02539 L 551.60791,214.40185 L 552.54736,215.21533 L 554.11279,215.71582 L 560.24023,216.78027 L 570.30322,217.40625 L 570.83984,217.71973 L 575.89355,218.53467 L 578.57714,218.65869 L 579.8745,219.16064 L 590.07225,219.03515 L 592.75536,218.40917 L 600.31347,217.97069 L 603.39941,218.53465 L 604.96533,220.34861 L 605.68066,223.73142 L 604.24951,227.92624 L 604.0708,229.30368 L 605.00976,230.99411 L 606.61962,232.18405 L 610.10839,232.55905 L 611.31591,233.24899 L 612.07616,235.5654 L 607.24608,241.51364 L 607.24608,243.70505 L 609.57128,245.95944 L 612.38964,247.21139 L 616.63769,243.76657 L 621.33398,238.88278 L 622.67627,238.50778 L 625.2251,240.19821 L 625.94043,241.38864 L 628.31152,242.51462 L 631.75537,245.1445 L 632.33642,248.52536 L 632.02392,254.53757 L 632.06835,260.29734 L 633.05175,262.80271 L 635.78027,265.74509 L 638.68798,267.5615 L 639.49218,268.43699 L 640.25292,273.00779 L 640.61083,277.1406 L 639.26903,279.95945 L 636.76415,285.9697 L 637.43554,287.91111 L 639.22411,289.09959 L 642.44432,289.03758 L 644.81493,287.59862 L 650.31591,283.27635 L 652.32861,283.40184 L 652.73095,283.77879 L 653.26757,283.8408 L 653.80468,284.15379 L 655.54882,284.3408 L 656.62206,284.90525 L 657.33788,286.22068 L 657.06981,286.84666 L 655.54881,288.5991 L 655.1909,291.29246 L 653.62596,294.54783 L 653.53612,295.79978 L 656.5327,299.93259 L 659.03758,304.06491 L 660.37889,305.62985 L 664.35936,307.38424 L 665.70116,309.20016 L 667.35643,315.33639 L 668.96629,316.33737 L 673.66209,316.83932 L 676.30076,320.84616 L 680.54978,321.28512 L 682.24949,322.34957 L 684.17283,325.29195 L 685.87205,326.79488 L 687.16941,326.98238 L 687.70603,327.42086 L 688.37693,327.35738 L 691.91013,328.9858 L 693.25193,329.98678 L 698.84226,336.49948 L 701.97312,339.06735 L 702.46531,342.13522 L 702.06248,343.63815 L 696.60643,350.90085 L 696.83006,353.27927 L 699.87108,357.41208 L 702.91258,359.97946 L 705.81932,362.79831 L 707.02684,364.29977 L 709.8452,366.99264 L 711.45458,369.87301 L 712.1704,372.50289 L 711.76806,373.75484 L 710.02392,375.63277 L 709.75537,376.63521 L 708.18994,378.63863 L 705.99805,383.20992 L 705.37256,386.21627 L 705.46143,388.72018 L 706.625,391.60055 L 708.9502,394.41744 L 709.62159,398.73775 L 708.72657,400.99214 L 707.78761,404.0605 L 707.51906,406.75337 L 706.31154,407.06636 L 704.12013,408.94429 L 702.91261,409.31929 L 700.98927,410.69673 L 699.51368,411.32466 L 698.84229,412.01265 L 693.07325,415.26802 L 692.67091,415.26802 L 692.08888,415.83198 L 689.40529,416.95844 L 686.99074,417.1474 L 681.80226,414.39252 L 680.5049,413.95404 L 675.8091,414.14154 L 672.36525,415.89398 L 668.96632,418.27435 L 665.61232,419.96478 L 664.31496,419.8388 L 662.16799,418.96185 L 659.17141,419.90277 L 658.1426,420.65228 L 656.3091,420.46478 L 651.38967,417.02191 L 650.9424,417.08392 L 650.31594,416.51996 L 649.86867,416.64545 L 648.43752,415.08051 L 645.53078,413.70307 L 644.05471,413.32807 L 643.83108,413.01508 L 642.13186,412.32563 L 637.92727,409.19526 L 636.36184,405.31245 L 633.41018,394.54292 L 632.06838,388.65815 L 630.2344,386.15229 L 629.29544,385.40083 L 627.14896,382.20747 L 625.13626,381.26851 L 622.27347,380.89351 L 614.0889,381.26851 L 612.21048,381.70699 L 610.60062,383.33541 L 610.01859,384.2109 L 608.45365,389.09518 L 605.27836,391.41305 L 604.6519,391.41305 L 602.05815,393.04 L 600.17924,393.72994 L 598.56938,395.10738 L 596.78032,396.04634 L 590.78764,401.11763 L 589.84819,402.30806 L 587.70122,403.99849 L 585.50981,403.80904 L 581.79741,399.67672 L 579.91899,395.23092 L 580.4561,390.9111 L 583.54155,387.28073 L 586.18022,384.46188 L 586.89653,382.83346 L 587.20903,381.58151 L 585.55473,379.57809 L 581.79741,377.19918 L 580.50102,376.9482 L 580.32133,376.50972 L 578.57719,376.07124 L 573.70219,375.31978 L 570.5269,375.63277 L 566.41215,379.32857 L 563.68412,382.20748 L 560.82182,382.70943 L 558.36186,384.21089 L 555.27543,387.09126 L 553.44242,389.22065 L 550.66898,390.15961 L 548.38773,392.2265 L 546.55472,394.48138 L 546.24124,394.41742 L 541.67972,399.23969 L 538.28079,399.36371 L 537.20706,398.86322 L 536.80472,398.36273 L 532.24222,397.36029 L 526.52103,400.08783 L 526.50687,400.09467 L 526.29349,399.11274 L 524.90726,397.35835 L 522.13529,394.79439 L 520.83158,393.93599 L 520.39066,393.29097 L 517.94193,390.7148 L 516.5889,388.97115 L 515.87747,387.57808 L 514.78665,383.82027 L 514.08401,377.07418 L 512.69778,371.68941 L 512.60452,370.85689 L 513.0469,367.80269 L 513.69534,364.9941 L 513.9053,361.16939 L 514.31497,359.21431 L 516.82132,356.36617 L 517.47025,354.79781 L 517.97123,352.98189 L 519.09232,347.07808 L 519.35746,345.09468 L 519.26908,344.18697 L 519.36185,341.44576 L 520.7139,338.32418 L 520.21146,335.62252 L 518.73539,333.87008 L 513.86039,329.42477 L 510.14848,326.29293 L 508.22514,325.10299 L 503.70756,323.28854 L 500.39848,320.53317 L 499.68266,319.09225 L 499.45903,316.77584 L 501.06938,311.64205 L 500.9351,306.3193 L 499.63774,303.37692 L 495.92583,299.80661 L 489.03813,295.29929 L 487.60698,293.0449 L 486.8018,291.16697 L 486.08647,277.20408 L 486.39946,274.51072 L 486.35454,272.63279 L 487.56206,270.1909 L 489.79839,269.00096 L 492.25835,268.56248 L 492.61626,268.06199 L 494.27105,267.68699 L 496.06011,266.93553 L 497.35699,265.49412 L 496.73101,261.23631 L 496.77593,257.16697 L 497.49126,256.22801 L 503.57378,256.03905 L 504.87114,256.7285 L 505.8101,257.66795 L 506.70463,260.17137 L 508.76225,261.42528 L 510.37211,261.98778 L 512.60844,261.3618 L 514.48735,259.23241 L 514.12895,253.47313 L 514.35258,251.53172 L 515.06791,249.77928 L 518.51176,245.95946 L 522.31352,245.64647 L 523.6104,243.20458 L 522.13433,234.00048 L 521.32818,233.18505 L 520.25738,233.06298 L 519.40631,232.74999 L 518.11041,231.80761 L 517.43902,230.49365 L 516.54156,227.49121 L 516.45318,226.61035 L 515.78375,225.29687 L 514.70953,224.29394 L 512.20807,223.35693 L 511.65973,223.24414 L 511.29401,221.93262 L 510.91364,220.57422 L 509.73737,219.22754 L 508.6236,218.86475 L 507.00446,218.62061 L 505.98932,217.8501 L 505.18414,216.59229 L 504.70123,214.84473 L 503.84283,214.14405 L 502.09381,213.57423 L 501.04742,212.54737 L 499.75006,210.16114 L 498.48004,208.65186 L 497.99713,206.89942 L 497.71979,202.01563 L 498.0152,196.35499 L 499.14655,185.60401 L 500.21979,184.77149 L 502.35797,184.23926 L 503.24322,183.64405 L 503.76666,182.81153 L 504.72809,182.53565 L 505.09039,181.64063 L 505.05475,181.46485 L 505.28717,180.19434 L 504.97418,178.99805 L 504.58502,177.5459 L 504.68365,176.7627 L 505.77935,176.06153 L 506.34722,174.98438 L 505.56011,173.44434 L 504.41021,172.65577 L 505.42144,171.60938 L 507.2149,170.54566 L 508.60162,170.16993 L 509.45123,170.10719 L 510.61383,170.23195 L 512.04498,170.23195 L 513.03326,170.29445 L 514.06256,169.79396 L 515.09088,169.16798 L 515.80621,168.85426 L 516.2984,168.47926 L 517.28229,168.10353 L 518.44538,167.03297 L 518.54841,166.90138 L 519.51862,165.65553 L 520.95417,164.3589 L 521.07038,164.25197 L 521.74128,164.3716 L 522.07233,164.43434 L 523.49469,164.50929 L 523.73151,164.52223 L 525.02448,163.55128 L 525.7486,163.65113 L 526.4043,164.59766 Z"
    val xdPath = stringPath.toPath(Size(100f, 100f));
    val xd = ShapePath("M 526.4043,164.59766 L 527.20703,170.13892 L 529.40234,175.69727 L 531.28125,179.0127 L 532.48926,179.45118 L 533.65235,180.82911 L 535.39698,181.1421 L 535.76661,181.46681 L 537.1172,182.59327 L 536.4463,184.53516 L 533.67335,187.47754 L 533.22657,187.47754 L 533.09229,187.97803 L 531.57129,189.48096 L 530.63281,190.98389 L 528.66455,193.42578 L 527.81445,195.36621 L 527.63574,196.49414 L 531.2583,199.875 L 531.70557,200.00098 L 532.64551,200.93994 L 535.4624,202.94336 L 537.92236,205.19629 L 542.66357,208.82813 L 545.57031,210.51856 L 548.47754,212.58594 L 548.92481,212.52246 L 550.71387,214.02539 L 551.60791,214.40185 L 552.54736,215.21533 L 554.11279,215.71582 L 560.24023,216.78027 L 570.30322,217.40625 L 570.83984,217.71973 L 575.89355,218.53467 L 578.57714,218.65869 L 579.8745,219.16064 L 590.07225,219.03515 L 592.75536,218.40917 L 600.31347,217.97069 L 603.39941,218.53465 L 604.96533,220.34861 L 605.68066,223.73142 L 604.24951,227.92624 L 604.0708,229.30368 L 605.00976,230.99411 L 606.61962,232.18405 L 610.10839,232.55905 L 611.31591,233.24899 L 612.07616,235.5654 L 607.24608,241.51364 L 607.24608,243.70505 L 609.57128,245.95944 L 612.38964,247.21139 L 616.63769,243.76657 L 621.33398,238.88278 L 622.67627,238.50778 L 625.2251,240.19821 L 625.94043,241.38864 L 628.31152,242.51462 L 631.75537,245.1445 L 632.33642,248.52536 L 632.02392,254.53757 L 632.06835,260.29734 L 633.05175,262.80271 L 635.78027,265.74509 L 638.68798,267.5615 L 639.49218,268.43699 L 640.25292,273.00779 L 640.61083,277.1406 L 639.26903,279.95945 L 636.76415,285.9697 L 637.43554,287.91111 L 639.22411,289.09959 L 642.44432,289.03758 L 644.81493,287.59862 L 650.31591,283.27635 L 652.32861,283.40184 L 652.73095,283.77879 L 653.26757,283.8408 L 653.80468,284.15379 L 655.54882,284.3408 L 656.62206,284.90525 L 657.33788,286.22068 L 657.06981,286.84666 L 655.54881,288.5991 L 655.1909,291.29246 L 653.62596,294.54783 L 653.53612,295.79978 L 656.5327,299.93259 L 659.03758,304.06491 L 660.37889,305.62985 L 664.35936,307.38424 L 665.70116,309.20016 L 667.35643,315.33639 L 668.96629,316.33737 L 673.66209,316.83932 L 676.30076,320.84616 L 680.54978,321.28512 L 682.24949,322.34957 L 684.17283,325.29195 L 685.87205,326.79488 L 687.16941,326.98238 L 687.70603,327.42086 L 688.37693,327.35738 L 691.91013,328.9858 L 693.25193,329.98678 L 698.84226,336.49948 L 701.97312,339.06735 L 702.46531,342.13522 L 702.06248,343.63815 L 696.60643,350.90085 L 696.83006,353.27927 L 699.87108,357.41208 L 702.91258,359.97946 L 705.81932,362.79831 L 707.02684,364.29977 L 709.8452,366.99264 L 711.45458,369.87301 L 712.1704,372.50289 L 711.76806,373.75484 L 710.02392,375.63277 L 709.75537,376.63521 L 708.18994,378.63863 L 705.99805,383.20992 L 705.37256,386.21627 L 705.46143,388.72018 L 706.625,391.60055 L 708.9502,394.41744 L 709.62159,398.73775 L 708.72657,400.99214 L 707.78761,404.0605 L 707.51906,406.75337 L 706.31154,407.06636 L 704.12013,408.94429 L 702.91261,409.31929 L 700.98927,410.69673 L 699.51368,411.32466 L 698.84229,412.01265 L 693.07325,415.26802 L 692.67091,415.26802 L 692.08888,415.83198 L 689.40529,416.95844 L 686.99074,417.1474 L 681.80226,414.39252 L 680.5049,413.95404 L 675.8091,414.14154 L 672.36525,415.89398 L 668.96632,418.27435 L 665.61232,419.96478 L 664.31496,419.8388 L 662.16799,418.96185 L 659.17141,419.90277 L 658.1426,420.65228 L 656.3091,420.46478 L 651.38967,417.02191 L 650.9424,417.08392 L 650.31594,416.51996 L 649.86867,416.64545 L 648.43752,415.08051 L 645.53078,413.70307 L 644.05471,413.32807 L 643.83108,413.01508 L 642.13186,412.32563 L 637.92727,409.19526 L 636.36184,405.31245 L 633.41018,394.54292 L 632.06838,388.65815 L 630.2344,386.15229 L 629.29544,385.40083 L 627.14896,382.20747 L 625.13626,381.26851 L 622.27347,380.89351 L 614.0889,381.26851 L 612.21048,381.70699 L 610.60062,383.33541 L 610.01859,384.2109 L 608.45365,389.09518 L 605.27836,391.41305 L 604.6519,391.41305 L 602.05815,393.04 L 600.17924,393.72994 L 598.56938,395.10738 L 596.78032,396.04634 L 590.78764,401.11763 L 589.84819,402.30806 L 587.70122,403.99849 L 585.50981,403.80904 L 581.79741,399.67672 L 579.91899,395.23092 L 580.4561,390.9111 L 583.54155,387.28073 L 586.18022,384.46188 L 586.89653,382.83346 L 587.20903,381.58151 L 585.55473,379.57809 L 581.79741,377.19918 L 580.50102,376.9482 L 580.32133,376.50972 L 578.57719,376.07124 L 573.70219,375.31978 L 570.5269,375.63277 L 566.41215,379.32857 L 563.68412,382.20748 L 560.82182,382.70943 L 558.36186,384.21089 L 555.27543,387.09126 L 553.44242,389.22065 L 550.66898,390.15961 L 548.38773,392.2265 L 546.55472,394.48138 L 546.24124,394.41742 L 541.67972,399.23969 L 538.28079,399.36371 L 537.20706,398.86322 L 536.80472,398.36273 L 532.24222,397.36029 L 526.52103,400.08783 L 526.50687,400.09467 L 526.29349,399.11274 L 524.90726,397.35835 L 522.13529,394.79439 L 520.83158,393.93599 L 520.39066,393.29097 L 517.94193,390.7148 L 516.5889,388.97115 L 515.87747,387.57808 L 514.78665,383.82027 L 514.08401,377.07418 L 512.69778,371.68941 L 512.60452,370.85689 L 513.0469,367.80269 L 513.69534,364.9941 L 513.9053,361.16939 L 514.31497,359.21431 L 516.82132,356.36617 L 517.47025,354.79781 L 517.97123,352.98189 L 519.09232,347.07808 L 519.35746,345.09468 L 519.26908,344.18697 L 519.36185,341.44576 L 520.7139,338.32418 L 520.21146,335.62252 L 518.73539,333.87008 L 513.86039,329.42477 L 510.14848,326.29293 L 508.22514,325.10299 L 503.70756,323.28854 L 500.39848,320.53317 L 499.68266,319.09225 L 499.45903,316.77584 L 501.06938,311.64205 L 500.9351,306.3193 L 499.63774,303.37692 L 495.92583,299.80661 L 489.03813,295.29929 L 487.60698,293.0449 L 486.8018,291.16697 L 486.08647,277.20408 L 486.39946,274.51072 L 486.35454,272.63279 L 487.56206,270.1909 L 489.79839,269.00096 L 492.25835,268.56248 L 492.61626,268.06199 L 494.27105,267.68699 L 496.06011,266.93553 L 497.35699,265.49412 L 496.73101,261.23631 L 496.77593,257.16697 L 497.49126,256.22801 L 503.57378,256.03905 L 504.87114,256.7285 L 505.8101,257.66795 L 506.70463,260.17137 L 508.76225,261.42528 L 510.37211,261.98778 L 512.60844,261.3618 L 514.48735,259.23241 L 514.12895,253.47313 L 514.35258,251.53172 L 515.06791,249.77928 L 518.51176,245.95946 L 522.31352,245.64647 L 523.6104,243.20458 L 522.13433,234.00048 L 521.32818,233.18505 L 520.25738,233.06298 L 519.40631,232.74999 L 518.11041,231.80761 L 517.43902,230.49365 L 516.54156,227.49121 L 516.45318,226.61035 L 515.78375,225.29687 L 514.70953,224.29394 L 512.20807,223.35693 L 511.65973,223.24414 L 511.29401,221.93262 L 510.91364,220.57422 L 509.73737,219.22754 L 508.6236,218.86475 L 507.00446,218.62061 L 505.98932,217.8501 L 505.18414,216.59229 L 504.70123,214.84473 L 503.84283,214.14405 L 502.09381,213.57423 L 501.04742,212.54737 L 499.75006,210.16114 L 498.48004,208.65186 L 497.99713,206.89942 L 497.71979,202.01563 L 498.0152,196.35499 L 499.14655,185.60401 L 500.21979,184.77149 L 502.35797,184.23926 L 503.24322,183.64405 L 503.76666,182.81153 L 504.72809,182.53565 L 505.09039,181.64063 L 505.05475,181.46485 L 505.28717,180.19434 L 504.97418,178.99805 L 504.58502,177.5459 L 504.68365,176.7627 L 505.77935,176.06153 L 506.34722,174.98438 L 505.56011,173.44434 L 504.41021,172.65577 L 505.42144,171.60938 L 507.2149,170.54566 L 508.60162,170.16993 L 509.45123,170.10719 L 510.61383,170.23195 L 512.04498,170.23195 L 513.03326,170.29445 L 514.06256,169.79396 L 515.09088,169.16798 L 515.80621,168.85426 L 516.2984,168.47926 L 517.28229,168.10353 L 518.44538,167.03297 L 518.54841,166.90138 L 519.51862,165.65553 L 520.95417,164.3589 L 521.07038,164.25197 L 521.74128,164.3716 L 522.07233,164.43434 L 523.49469,164.50929 L 523.73151,164.52223 L 525.02448,163.55128 L 525.7486,163.65113 L 526.4043,164.59766 Z")

    val interactionSource = remember { MutableInteractionSource() }


    Column(){
        /*Button(
            modifier = Modifier
                .clip(xd)
                .fillMaxWidth(),
            onClick = {Log.d("buttonxd", "tolnaxd")}

        ) {
            
        }*/
        Box(modifier = Modifier){
            for ( r : Region in Region.entries){
                Icon(
                    modifier = Modifier,
                    painter = painterResource(id = r.Resource),
                    tint = Color(Random.nextInt(0, 255), Random.nextInt(0, 255), Random.nextInt(0, 255)),
                    contentDescription = r.Name
                )
            }
        }
    }
}

@Preview
@Composable
fun MapPreview(){
    HungaryMap()
}